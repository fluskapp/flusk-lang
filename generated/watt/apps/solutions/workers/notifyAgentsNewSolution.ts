// @generated by flusk-lang â€” DO NOT EDIT

import type { PlatformaticApp } from '@platformatic/db';

export const notifyAgentsNewSolution = async (
  platformatic: PlatformaticApp,
  payload: Record<string, unknown>,
): Promise<void> => {
  const deployment = await platformatic.entities.deployment.find({
    where: { id: { eq: payload.deployment_id ?? payload.id } },
    limit: 1,
  }).then((r: unknown[]) => r[0]);
  const agentDevice = await platformatic.entities.agentDevice.find({
    where: { id: { eq: payload.agentDevice_id ?? payload.id } },
    limit: 1,
  }).then((r: unknown[]) => r[0]);
  // Call: push-to-agents
  // TODO: wire to function
};
