// @generated by flusk-lang â€” DO NOT EDIT

const BASE_URL = 'https://slack.com/api';

const request = async (method: string, path: string, body?: unknown): Promise<unknown> => {
  const headers: Record<string, string> = { 'Content-Type': 'application/json' };
  const res = await fetch(`${BASE_URL}${path}`, {
    method,
    headers,
    ...(body ? { body: JSON.stringify(body) } : {}),
  });
  if (!res.ok) throw new Error(`${res.status} ${res.statusText}`);
  return res.json();
};

export const postMessage = (body: Record<string, unknown>): Promise<unknown> =>
  request('POST', '/chat.postMessage', body);

export const slackApi = {
  postMessage,
};
