// @generated by flusk-lang â€” DO NOT EDIT

import { type FastifyInstance } from 'fastify';
import fp from 'fastify-plugin';

import { slackWebhook } from '../functions/slackWebhook.js';
import { getSettings } from '../functions/getSettings.js';
import { sendSlackMessage } from '../functions/sendSlackMessage.js';

export default fp(async (app: FastifyInstance) => {

  app.post('/integrations/slack/webhook', {
    preHandler: app.auth,
  }, async (request, reply) => {
    const result = await slackWebhook(app.platformatic, request);
    return reply.send(result);
  });

  app.get('/api/slack/settings', {
    preHandler: app.auth,
  }, async (request, reply) => {
    const result = await getSettings(app.platformatic, request);
    return reply.send(result);
  });
});
